# Veles Tools

Расширение для браузера, упрощающее работу на [veles.finance](https://veles.finance/). Интерфейс работает поверх официального API и не модифицирует DOM сайта, поэтому остаётся устойчивым к изменениям фронтенда площадки.

## Основные возможности
- **Мультизапуск бэктестов** — формирует очередь по списку ботов и валют, автоматически подставляет комиссии и период, отслеживает прогресс и статус каждой заявки.
- **Агрегация результатов** — отдельный раздел позволяет собрать сводку по выбранным бэктестам, построить распределение одновременных позиций и исключать лишние тесты из статистики.

## Установка расширения
1. Склонируйте или обновите репозиторий локально.
2. Откройте Chrome и перейдите в `chrome://extensions/`.
3. Включите «Режим разработчика» (Developer mode).
4. Нажмите «Загрузить распакованное» (Load unpacked) и выберите папку `extension` из корня репозитория.
5. Убедитесь, что расширение активировано и иконка доступна на панели.

## Использование
### Рабочая панель UI
1. Авторизуйтесь на veles.finance в отдельной вкладке.
2. Откройте попап расширения и нажмите «Открыть рабочую панель» — UI загрузится в новой вкладке.
3. Используйте навигацию слева, чтобы переключаться между разделами Home, Bots, Import, Backtests.

### Мультизапуск бэктестов
1. В разделе Bots выберите нужных ботов и откройте модальное окно запуска.
2. Укажите период, задержку и дополнительные валюты для мультивалютного режима.
3. Запустите очередь. Прогресс, лог и статус каждого бэктеста отображаются в модалке в реальном времени.

### Агрегация результатов
1. Перейдите в раздел Backtests — таблица автоматически подгрузит последние тесты через API veles.finance.
2. Отметьте интересующие бэктесты и нажмите «Собрать статистику».
3. Используйте чекбокс «В статистике», чтобы временно исключить строки и пересчитать сводные карточки и графики.

## Архитектура
- `extension/ui` — React-приложение (Vite + TypeScript), отвечающее за пользовательский интерфейс.
- `extension/scripts/background.js` — сервис-воркер, проксирующий запросы и отслеживающий статус соединения с veles.finance.
- `extension/scripts/proxy-bridge.js` и `extension/scripts/page-fetch-bridge.js` — выполняют запросы от имени авторизованной вкладки.
- `extension/scripts/popup.js` — облегчённый попап, открывающий UI в новой вкладке.

## Дополнительные материалы
- Руководство для разработчиков: `DEVELOPMENT.md`
- Правила контрибьюции и commit-формат: `CONTRIBUTING.md`
- Кодекс поведения: `CODE_OF_CONDUCT.md`
- Свежие изменения: `CHANGELOG.md`

## Обратная связь
Если заметили проблему или хотите предложить улучшение, создайте issue на GitHub или отправьте pull request согласно рекомендациям из `CONTRIBUTING.md`.
